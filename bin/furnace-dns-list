#!/bin/bash

function help() {

    printf "Usage : ${0} OPTIONS\nDescription : \nList all DNS zones generated by furnace.\n"
}
for i in "$@"
do
case $i in
    -h|--help)
    help
    exit 0
    ;;
    --json)
    json=true
    shift
    ;;
    *)
    echo "Unknown option ${i#*=}. Try $0 --help"
    exit 1
    ;;
esac
done

if [ "$json" = "true" ]; then
    
    echo $( printf '[ '
    for i in /etc/furnace/dns/*.txt; do
    printf ", \"$i\"" 
    done
    printf ' ]' ) | sed '0,/, /s///'

else
    for i in /etc/furnace/dns/*.txt; do
    echo "â€¢ Zone $i"
    done
fi
